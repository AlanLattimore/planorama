<%#= stylesheet_pack_tag 'people_vue' %>
<%= javascript_pack_tag 'people_vue' %>

<div id="people-app">
  <div>
    <table-component
      ref='tableComponent'
      :sort-field="sortField"
      :sort-order="sortOrder"
      :columns="columns"
      :collection="collection"
      v-on:selected="setSelected($event)"
      v-on:create="onCreate($event)"
    ></table-component>
  </div>

  <sidebar-component
    ref='sidebarComponent'
    :has-selected="hasSelected"
  >
    <template v-slot:header>
      <div v-if="selected">
        <h1 class="title">{{selected.published_name}}</h1>
      </div>
    </template>
    <template v-slot:content>
      <div v-if="selected" class="px-3 py-2">
        <b-tabs content-class="mt-3">
          <b-tab title="Details" active>
            <%= render partial: "person_details" %>
          </b-tab>
          <b-tab title="Bio">
            <p>TODO: BIO</p>
          </b-tab>
          <b-tab title="Tags">
            <p>TODO: TAGS</p>
          </b-tab>
        </b-tabs>
      </div>
    </template>
  </sidebar-component>


<!--
"comments": null,
 -->

       <!-- TODO: put tags and bio into a seperate tab -->
                   <!--
                   <b-field grouped>
                     <b-field label="Tags">
                       <b-taginput
                           v-model="selected.tags"
                           ellipsis
                           icon="label"
                           placeholder="Add a tag"
                           aria-close-label="Delete this tag">
                       </b-taginput>
                     </b-field>
                   </b-field>
                   -->


</div>
