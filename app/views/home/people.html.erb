<%= stylesheet_pack_tag 'people_vue' %>
<%= javascript_pack_tag 'people_vue' %>

<div id="people-app">
  <div>
    <table-component
      :sort-field="sortField"
      :sort-order="sortOrder"
      :columns="columns"
      :collection="collection"
      v-on:selected="setSelected($event)"
    ></table-component>
  </div>

  <section>
    <b-sidebar
      type="is-light"
      :fullheight=true
      :fullwidth=false
      :overlay=false
      :right=true
      :can-cancel=true
      v-model="has_selected"
    >
      <div class="p-1">
        <div v-if="selected">
          <section class="section">
            <div class="box">
              <ha class="title">{{selected.published_name}}</ha>
            </div>
            <div class="box">
              <!-- TODO: edit button enable edit and submit and refresh on blur -->
              <b-field label="First Name" label-position="on-border">
                <b-input
                  lazy=true
                  maxlength="60"
                  disabled
                  v-model="selected.first_name"
                ></b-input>
              </b-field>
              <b-field label="Last Name" label-position="on-border">
                <b-input
                  lazy=true
                  maxlength="60"
                  disabled
                  v-model="selected.last_name"
                ></b-input>
              </b-field>
            </div>
          </section>
        </div>
      </div>
    </b-sidebar>
  </section>
</div>
